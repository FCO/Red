FROM rakudo-star:alpine
WORKDIR /code
COPY . .
ENV PATH="/usr/share/raku/site/bin:/usr/local/share/raku/site/bin:/usr/share/perl6/site/bin:/usr/local/share/perl6/site/bin:${PATH}"
RUN apk add --no-cache git gcc libc-dev libuuid sqlite-libs openssl-dev make bash
RUN zef install --/test Config Config::Parser::json Pod::To::Markdown App::Prove6
RUN zef install --/test cro App::RaCoCo
RUN zef install --/test --test-depends --deps-only .
